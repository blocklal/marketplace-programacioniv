{% extends 'base.html' %}
{% block content %}

<div class="d-flex justify-content-center mt-5">
    <div class="card shadow p-4 text-center" 
         style="width: 480px; border-radius: 15px;">

        <h3 class="mb-4">Crear Cuenta</h3>

        <!-- Mostrar errores generales del formulario -->
        {% if form.non_field_errors %}
        <div class="alert alert-danger">
            {% for error in form.non_field_errors %}
                {{ error }}
            {% endfor %}
        </div>
        {% endif %}

        <form action="{% url 'signup' %}" method="post">
            {% csrf_token %}

            <!-- Usuario -->
            <div class="mb-3 text-start">
                <label class="form-label">Usuario</label>
                {{ form.username }}
                {% if form.username.errors %}
                    <div class="text-danger small mt-1">
                        {% for error in form.username.errors %}
                            <i class="fas fa-exclamation-circle"></i> {{ error }}
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            <!-- Correo -->
            <div class="mb-3 text-start">
                <label class="form-label">Correo Electrónico</label>
                {{ form.email }}
                {% if form.email.errors %}
                    <div class="text-danger small mt-1">
                        {% for error in form.email.errors %}
                            <i class="fas fa-exclamation-circle"></i> {{ error }}
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            <!-- Contraseña -->
            <div class="mb-3 text-start">
                <label class="form-label">Contraseña</label>
                {{ form.password1 }}
                {% if form.password1.errors %}
                    <div class="text-danger small mt-1">
                        {% for error in form.password1.errors %}
                            <i class="fas fa-exclamation-circle"></i> {{ error }}
                        {% endfor %}
                    </div>
                {% else %}
                    <small class="text-muted">
                        <i class="fas fa-info-circle"></i> Mínimo 8 caracteres
                    </small>
                {% endif %}
            </div>

            <!-- Confirmar Contraseña -->
            <div class="mb-3 text-start">
                <label class="form-label">Confirmar Contraseña</label>
                {{ form.password2 }}
                {% if form.password2.errors %}
                    <div class="text-danger small mt-1">
                        {% for error in form.password2.errors %}
                            <i class="fas fa-exclamation-circle"></i> {{ error }}
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            <button type="submit" class="btn btn-violeta w-100 mt-2">
                Registrarse
            </button>
        </form>

        <div class="mt-3">
            <small>¿Ya tienes cuenta? <a href="{% url 'signin' %}">Inicia sesión aquí</a></small>
        </div>
    </div>
</div>

<style>
.text-danger {
    font-size: 0.875rem;
}
</style>

{% endblock %}